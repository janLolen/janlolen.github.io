<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p id="ciaox"></p>
    <script>
        function counterSubtitles(where, filename){
            const done = /"<clr:[0-9]+,[0-9]+,[0-9]+>[aeioujwklmnpst][aeioujwklmnpstAEIOUJWKLMNPST ]+: [aeioujwklmnpst'\[][aeioujwklmnpstchAEIOUJWKLMNPST\.,!?;:\-\[\]' ]+"/g
            const all = /"<clr:[0-9]+,[0-9]+,[0-9]+>[^:]*: .*"/g
            fetch('https://raw.githubusercontent.com/janLolen/musi-Pota/refs/heads/main/musi%20Pota%20%232/_tokipona%20files%20(UTF-8)/' + filename)
            .then(response => response.text())
            .then((data) => {
                where.innerHTML += filename + ": " + Math.floor((data.match(done).length)*100/(data.match(all).length)*100)/100 + "%<br>"
            })
        }
        function counter(where, filename){
            const done = /".*"[ 	]+"[aeioujwklmnpst][aeioujwklmnpstAEIOUJWKLMNPST? ]+"\n/g
            const all = /".*"[ 	]+".*"\n/g
            fetch('https://raw.githubusercontent.com/janLolen/musi-Pota/refs/heads/main/musi%20Pota%20%232/_tokipona%20files%20(UTF-8)/' + filename)
            .then(response => response.text())
            .then((data) => {
                where.innerHTML += filename + ": " + Math.floor((data.match(done).length)*100/(data.match(all).length)*100)/100 + "%<br>"
            })
        }
        let x = document.getElementById("ciaox")
        counterSubtitles(x, "subtitles_tokipona.txt")
        counter(x, "valve_tokipona.txt")
        counter(x, "portal2_tokipona.txt")
        counter(x, "basemodui_tokipona.txt")
    </script>
</body>
</html>